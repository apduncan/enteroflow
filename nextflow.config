// The matrix to be decomposed
params.matrix = "resources/test_data.tsv"
// Number of random shuffles of matrix
params.n = 3
// Ranks to search during rank selection, inclusive
params.ranks = [2, 5]
// Number of iterations per rank, on each shuffled matrix
params.rank_iterations = 10
// Max NMF iterations, shared across all tasks
params.nmf_max_iter = 3000
// Random seed
params.seed = 4298

profiles {
    conda {
        process.conda = 'env.yaml'
        conda.mamba = true
        conda.enabled = true
    }
    slurm {
        // conda stuff
        conda.enabled = true
        conda.mamba = true
        // slurm stuff
        process {
            conda = '/path/to/env/'
            executor = 'slurm'
            queue = 'ei-medium'
            memory = '4GB'
            cpus = 4
            // Run little processes locally
            withLabel: canBeLocal {
                executor = 'local'
            }
        }
    }
}

dag.verbose = true